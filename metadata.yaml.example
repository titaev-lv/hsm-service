# HSM Key Rotation Metadata Template
# This file contains dynamic metadata for key rotation.
# It is separate from config.yaml to allow GitOps/IaC to manage static configuration
# while this file tracks runtime rotation state.
#
# IMPORTANT: This is a template file.
# The actual metadata.yaml is NOT committed to git and is managed by automation scripts.
#
# To use this file:
# 1. Copy metadata.yaml.example to metadata.yaml
# 2. Update labels, versions, and created_at timestamps based on your HSM keys
# 3. DO NOT commit metadata.yaml to git (it's in .gitignore)

rotation:
  # Example: Exchange key metadata
  exchange-key:
    current: kek-exchange-key-v1      # Current active key label
    versions:
      - label: kek-exchange-key-v1    # Key label in HSM
        version: 1                # Key version number
        created_at: '2026-01-09T00:00:00Z'  # ISO 8601 timestamp
    
  # Example: 2FA key metadata
  2fa:
    current: kek-2fa-v1
    versions:
      - label: kek-2fa-v1
        version: 1
        created_at: '2026-01-09T00:00:00Z'

# After key rotation, the versions array will contain multiple entries:
# exchange-key:
#   current: kek-exchange-key-v2
#   versions:
#     - label: kek-exchange-key-v1
#       version: 1
#       created_at: '2026-01-09T00:00:00Z'
#     - label: kek-exchange-key-v2
#       version: 2
#       created_at: '2026-01-16T00:00:00Z'

#   created_at: '2025-10-11T12:00:00Z'
